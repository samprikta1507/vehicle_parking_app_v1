{% extends "user_layout.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Reservation Summary for {{ user.full_name }}</h2>

  <table class="table table-bordered text-center">
    <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>Parking Lot</th>
        <th>Spot</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Duration (hrs)</th>
        <th>Cost</th>
      </tr>
    </thead>
    <tbody>
      {% for r in history %}
      <tr>
        <td>{{ r.id }}</td>
        <td>{{ r.parking_lot.name }}</td>
        <td>{{ r.parking_spot.id }}</td>
        <td>{{ r.park_time.strftime('%Y-%m-%d %H:%M') }}</td>
        <td>{{ r.end_time.strftime('%Y-%m-%d %H:%M') }}</td>
        <td>{{ ((r.end_time - r.park_time).total_seconds() // 3600)|int }}</td>
        <td>{{ r.cost }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="mt-3 fw-bold">
  Total Hours: {{ total_hours }} hrs  
  <br>
  Total Cost: â‚¹{{ total_cost }}
</div>


<!-- Content -->
            <div class="chart-container">
                
                <canvas id="usageChart"></canvas>
                <div class="chart-label">Summary on already used parking spots</div>
            </div>
{% endblock %}


